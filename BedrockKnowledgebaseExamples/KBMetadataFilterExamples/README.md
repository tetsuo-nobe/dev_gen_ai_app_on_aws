# Bedrock ナレッジベース メタデータフィルターのデモ

* 下記のような内容を含む .txt ファイルが 3つある。その中で、メタデータの date が 20251203 のものだけ取得してモデルに回答させる
    - "ロンドンウォーキングシューズ販売における戦略地域は大阪です。"
    - "ロンドンウォーキングシューズ販売における戦略地域は神戸です。"
    - "ロンドンウォーキングシューズ販売における戦略地域は京都です。"

* メタデータは、ドキュメントのファイル名に、`.metadata.json` をつけたファイルに記載する

* 内容は下記のようにする。
    - **タブコードなどは含めない方がよさそう**

```
{
    "metadataAttributes": {
    "date": 20251201
    }
}
```

* .txt ファイルとそれに対応する .tetx.metadata.json ファイルを S3 バケットの **date** フォルダに格納する

* その S3 バケットをデータソースにしてナレッジベースを作成する。
    - ベクトルストアに S3 Vectors も使用できる